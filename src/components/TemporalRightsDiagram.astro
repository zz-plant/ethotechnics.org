---
type TemporalRight = {
  id: string;
  title: string;
  summary: string;
  clauses: string[];
};

const { rights } = Astro.props as { rights: TemporalRight[] };
---

<div class="temporal-diagram">
  <div class="temporal-diagram__intro">
    <p class="eyebrow">Interactive diagram</p>
    <h2>Seven rights at a glance</h2>
    <p class="muted">
      Expand each right to reveal the clauses that connect the standard to policy, product, and
      operational requirements.
    </p>
  </div>
  <div class="temporal-diagram__grid">
    {rights.map((right, index) => (
      <details
        class="temporal-diagram__card"
        open={index === 0}
        data-default-open={index === 0}
      >
        <summary class="temporal-diagram__summary">
          <span class="temporal-diagram__badge">{index + 1}</span>
          <span class="temporal-diagram__title">{right.title}</span>
          <span class="temporal-diagram__summary-text muted">
            {right.summary}
          </span>
        </summary>
        <div class="temporal-diagram__body">
          <p class="muted">{right.summary}</p>
          <ol class="temporal-diagram__clauses">
            {right.clauses.map((clause) => (
              <li>{clause}</li>
            ))}
          </ol>
        </div>
      </details>
    ))}
  </div>
</div>
