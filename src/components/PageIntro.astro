---
export interface AnchorLink {
  href: string;
  label: string;
}

export interface PanelCopy {
  eyebrow?: string;
  title: string;
  description: string;
}

export interface Props {
  eyebrow: string;
  title: string;
  titleLevel?: 1 | 2 | 3 | 4 | 5 | 6;
  description: string;
  permalink: string;
  anchorLinks: AnchorLink[];
  panelCopy?: PanelCopy;
}

const {
  eyebrow,
  title,
  titleLevel = 1,
  description,
  permalink,
  anchorLinks,
  panelCopy,
} = Astro.props;

const HeadingTag = `h${titleLevel}` as const;
---
<section class="section page-intro">
  <div class="page-intro__grid">
    <div class="page-intro__lead">
      <p class="eyebrow">{eyebrow}</p>
      <HeadingTag>{title}</HeadingTag>
      <p class="muted page-intro__lede">{description}</p>
      <p class="page-intro__permalink">
        <span aria-hidden="true">â†º</span> Permanent link:
        <a href={permalink}>{permalink}</a>
      </p>
      {anchorLinks.length > 0 && (
        <nav aria-label="On-page links" class="page-intro__anchors">
          <p class="muted">Jump to</p>
          <ul>
            {anchorLinks.map((link) => (
              <li>
                <a href={link.href} class="pill pill--ghost">
                  {link.label}
                </a>
              </li>
            ))}
          </ul>
        </nav>
      )}
    </div>

    {panelCopy && (
      <div class="panel panel--glass page-intro__panel">
        {panelCopy.eyebrow && <p class="muted">{panelCopy.eyebrow}</p>}
        <h2>{panelCopy.title}</h2>
        <p>{panelCopy.description}</p>
      </div>
    )}
  </div>
</section>
