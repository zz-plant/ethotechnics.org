---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PageIntro from "../../components/PageIntro.astro";
import SectionBlock from "../../components/SectionBlock.astro";
import CardGrid from "../../components/CardGrid.astro";
import CardItem from "../../components/CardItem.astro";
import SummaryCallout from "../../components/SummaryCallout.astro";

const pageTitle = "Worked examples â€” Ethotechnics Institute";
const pageDescription =
  "End-to-end worked scenarios that prove standards can ship with receipts, clocks, and enforceable remedies.";
const permalink = "/examples";

const examples = [
  {
    slug: "automated-account-lock",
    title: "Automated account lock & eligibility flip",
    summary:
      "A real-time fraud lock shows how receipts, owners, clocks, and remedies survive high-risk automation.",
    tags: ["Receipt", "Clocks", "Remedy"],
  },
  {
    slug: "content-moderation-takedown",
    title: "Content moderation takedown",
    summary:
      "A rapid removal flow with receipts, contested exceptions, and remedy commitments.",
    tags: ["Receipt", "Exceptions", "Remedy"],
  },
  {
    slug: "fraud-hold-delayed-notice",
    title: "Fraud hold with delayed notice",
    summary:
      "A delayed-notice hold that keeps clocks visible while preserving investigation integrity.",
    tags: ["Clocks", "Exceptions", "Evidence"],
  },
  {
    slug: "irreversible-payment-compensation",
    title: "Irreversible payment with compensation",
    summary:
      "An irreversible action flow that binds compensation and review clocks to receipts.",
    tags: ["Irreversible", "Remedy", "Binding"],
  },
  {
    slug: "automated-eligibility-denial",
    title: "Automated eligibility denial",
    summary:
      "Eligibility denial with a named owner, appeal path, and enforceable remedy clocks.",
    tags: ["Receipt", "Clocks", "Appeal"],
  },
];
const featuredExample = examples[0];

const requiredSignals = [
  "Receipt issued at the moment the decision is enforced.",
  "Named owner + authority path with escalation rights.",
  "Clocks for acknowledgment, review, and remedy.",
  "Exception handling with bounded duration and review cadence.",
  "Remedy path with reversal, compensation, or safe fallback.",
  "Generated artifacts (decision log, evidence pack list, audit trail).",
];
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <PageIntro
    eyebrow="Worked examples"
    title="Worked examples"
    description={pageDescription}
    permalink={permalink}
    anchorLinks={[
      { href: "#scenarios", label: "Scenarios" },
      { href: "#requirements", label: "Required signals" },
      { href: "#how-to-use", label: "How to use" },
    ]}
    panelCopy={{
      eyebrow: "Why these matter",
      title: "One complete example answers four critiques.",
      description:
        "Each scenario proves the standards are enforceable, faster to ship, and measurable without audit theater.",
    }}
  >
    <Fragment slot="actions">
      <a class="button primary" href={`/examples/${featuredExample.slug}`}>
        View featured example
      </a>
      <a class="button ghost" href="#scenarios">
        Browse scenarios
      </a>
    </Fragment>
  </PageIntro>
  <SummaryCallout
    title="Start with a single end-to-end example"
    description="Pick the featured scenario first, then use the required signals checklist to validate what your team ships."
    takeaways={[
      "Every scenario includes receipts, owners, clocks, and remedies.",
      "Required signals ensure enforceability, not just documentation.",
      "Examples double as adoption templates for release gates.",
    ]}
    relatedLinks={[
      { href: `/examples/${featuredExample.slug}`, label: "Featured example" },
      { href: "/bindings", label: "Binding vectors" },
      { href: "/evidence-packs", label: "Evidence packs" },
    ]}
    jumpLinks={[
      { href: "#featured", label: "Featured scenario" },
      { href: "#scenarios", label: "Scenarios" },
      { href: "#requirements", label: "Required signals" },
    ]}
  />

  <SectionBlock
    id="featured"
    eyebrow="Featured scenario"
    title={featuredExample.title}
    description="A full walkthrough that shows receipts, clocks, and remedies working together. Featured because it demonstrates the full adoption chain without special-case shortcuts."
    variant="alt"
  >
    <CardGrid>
      <CardItem
        title="What this scenario demonstrates"
        description="Use the featured example as the baseline template before reviewing the broader catalog."
      >
        <ul class="muted">
          <li>Receipt and owner metadata issued at decision time.</li>
          <li>Visible clocks for review, appeal, and remedy.</li>
          <li>Remediation path that ties into bindings and evidence packs.</li>
        </ul>
        <a slot="footer" class="button ghost button--compact" href={`/examples/${featuredExample.slug}`}>
          View featured example
        </a>
      </CardItem>
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="scenarios"
    eyebrow="Scenarios"
    title="End-to-end worked scenarios"
    description="Each scenario includes the receipt, owner, clocks, and evidence bundle required for audit-ready compliance."
  >
    <CardGrid className="grid--two">
      {examples.map((example) => (
        <CardItem
          id={example.slug}
          title={example.title}
          description={example.summary}
          tags={example.tags}
        >
          <a slot="footer" class="button ghost button--compact" href={`/examples/${example.slug}`}>
            View worked example
          </a>
        </CardItem>
      ))}
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="requirements"
    eyebrow="Required signals"
    title="What every worked example must show"
    description="Use this checklist to validate that a scenario is enforceable and not just explanatory."
    variant="alt"
  >
    <ul class="muted">
      {requiredSignals.map((item) => (
        <li>{item}</li>
      ))}
    </ul>
    <p class="muted small">
      Need a reference bundle? Start with the{" "}
      <a href="/bundles/diagnostic-export-kit">Diagnostic Export Kit</a> to see
      how outputs map to receipts, evidence lists, and stakeholder summaries.
    </p>
  </SectionBlock>

  <SectionBlock
    id="how-to-use"
    eyebrow="How to use"
    title="Turn the example into binding adoption"
    description="These scenarios double as copy-paste templates for change requests and release gates."
  >
    <ul class="muted">
      <li>
        Start with the receipt payload and map it to your own system state and logging tools.
      </li>
      <li>
        Translate the owner + authority block into your on-call rotation and escalation policies.
      </li>
      <li>
        Connect the evidence pack list to the
        {" "}
        <a href="/evidence-packs">Evidence Pack</a>
        {" "}
        requirements before your next audit window.
      </li>
      <li>
        Use the
        {" "}
        <a href="/bindings">Binding vectors</a>
        {" "}
        to tie the example to procurement language, release gates, and runbooks.
      </li>
    </ul>
  </SectionBlock>
</BaseLayout>
