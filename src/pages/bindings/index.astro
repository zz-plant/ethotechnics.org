---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PageIntro from "../../components/PageIntro.astro";
import SectionBlock from "../../components/SectionBlock.astro";

const pageTitle = "Binding vectors — Ethotechnics Institute";
const pageDescription =
  "This page is for policy owners, procurement leads, and release managers binding standards to delivery. Copy-paste adoption surfaces that turn standards into enforceable procurement, release, and runbook controls.";
const permalink = "/bindings";

const procurementClause = `Supplier SHALL implement receipt-based contestability for automated
account locks and eligibility flips. Minimum controls include:
- Receipt issuance at decision time with owner, authority, and appeal path.
- Acknowledgment, review, and remedy clocks published to the impacted party.
- Evidence pack delivery aligned to STD-01.1.1 and STD-02.2.1.
Non-compliance triggers remedy obligations and service credits.`;

const releaseGate = `Release gate (STD-02.2.1 / STD-01.1.1)
[ ] Receipt payload emitted for every lock or eligibility flip.
[ ] Ack, review, and remedy clocks visible in-product.
[ ] Decision log entry linked to evidence pack bundle.
[ ] Appeal path tested with human review coverage.`;

const incidentTrigger = `Trigger a postmortem when:
- Any lock exceeds the remedy clock.
- Appeals backlog breaches the review clock.
- An exception class (security/legal) runs past its maximum duration.`;

const runbookSnippet = `Runbook: Automated Lock Escalation
1. Confirm receipt issued and owner acknowledged.
2. Validate exception class and remaining clock time.
3. If clocks breached, escalate to Steward-on-Call and trigger remedy.
4. Attach decision log + evidence pack links to the incident record.`;

const antiWeaponizationProcurement = `Supplier SHALL comply with Anti-Weaponization clauses AW-01 through AW-04.
- AW-01: Burden metrics require resourcing within the next stewardship window.
- AW-02: Appeal paths cannot be removed without replacement + review window.
- AW-03: Downgrades require receipts + clocks regardless of automation source.
- AW-04: High-burden flows require assisted channels or human escalation.`;

const antiWeaponizationReleaseGate = `Release gate (AW-01–AW-04)
[ ] Burden metrics include staffing/tooling remediation plan.
[ ] Appeal paths tested for non-regression and replacement notice.
[ ] Downgrades emit receipts with clocks (ack/review/remedy).
[ ] Assisted channel or human escalation present for high-burden flows.`;
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <PageIntro
    eyebrow="Binding vectors"
    title="Binding vectors"
    description={pageDescription}
    permalink={permalink}
    anchorLinks={[
      { href: "#procurement", label: "Procurement clauses" },
      { href: "#release-gates", label: "Release gates" },
      { href: "#anti-weaponization", label: "Anti-weaponization bindings" },
      { href: "#incidents", label: "Incident triggers" },
      { href: "#runbooks", label: "Runbook snippets" },
      { href: "#referenced-by", label: "Referenced by" },
    ]}
    panelCopy={{
      eyebrow: "Adoption surface",
      title: "Copy-paste artifacts that bind",
      description:
        "Each binding ships with clause IDs, evidence pack anchors, and mechanisms so teams can adopt without translation.",
    }}
  />

  <SectionBlock
    id="procurement"
    eyebrow="Procurement"
    title="Procurement clauses"
    description="Drop these into RFPs, MSAs, or vendor appendices."
  >
    <pre class="code-block">{procurementClause}</pre>
    <p class="muted">References:</p>
    <ul class="muted">
      <li>
        Clauses:
        {" "}
        <a href="/evidence-packs/std-01#std-01-1-1">STD-01.1.1</a>,
        {" "}
        <a href="/evidence-packs/std-02#std-02-2-1">STD-02.2.1</a>
      </li>
      <li>
        Evidence packs:
        {" "}
        <a href="/evidence-packs/std-01">STD-01 pack</a>,
        {" "}
        <a href="/evidence-packs/std-02">STD-02 pack</a>
      </li>
      <li>
        Mechanisms:
        {" "}
        <a href="/mechanisms/patterns/decision-log">MEC-01 Decision log</a>,
        {" "}
        <a href="/mechanisms/patterns/appeal-paths">MEC-06 Appeal paths</a>
      </li>
    </ul>
  </SectionBlock>

  <SectionBlock
    id="release-gates"
    eyebrow="Release gates"
    title="Release gate / PR checklist items"
    description="Gate launches on clause-level evidence."
    variant="alt"
  >
    <pre class="code-block">{releaseGate}</pre>
    <p class="muted">References:</p>
    <ul class="muted">
      <li>
        Clauses:
        {" "}
        <a href="/evidence-packs/std-02#std-02-2-1">STD-02.2.1</a>,
        {" "}
        <a href="/evidence-packs/std-01#std-01-1-1">STD-01.1.1</a>
      </li>
      <li>
        Evidence packs:
        {" "}
        <a href="/evidence-packs/std-02">STD-02 pack</a>
      </li>
      <li>
        Mechanisms:
        {" "}
        <a href="/mechanisms/patterns/kill-switch">MEC-05 Kill switch</a>,
        {" "}
        <a href="/mechanisms/patterns/decision-log">MEC-01 Decision log</a>
      </li>
    </ul>
  </SectionBlock>

  <SectionBlock
    id="anti-weaponization"
    eyebrow="Anti-weaponization"
    title="Procurement + release gates for AW-01 through AW-04"
    description="Treat anti-weaponization clauses as enforceable release criteria."
  >
    <div class="grid grid--two">
      <div class="panel">
        <p class="eyebrow">Procurement clause</p>
        <pre class="code-block">{antiWeaponizationProcurement}</pre>
      </div>
      <div class="panel">
        <p class="eyebrow">Release gate checklist</p>
        <pre class="code-block">{antiWeaponizationReleaseGate}</pre>
      </div>
    </div>
    <p class="muted">References:</p>
    <ul class="muted">
      <li>
        Clauses:
        {" "}
        <a href="/anti-weaponization#AW-01">AW-01</a>,
        {" "}
        <a href="/anti-weaponization#AW-02">AW-02</a>,
        {" "}
        <a href="/anti-weaponization#AW-03">AW-03</a>,
        {" "}
        <a href="/anti-weaponization#AW-04">AW-04</a>
      </li>
      <li>
        Evidence packs:
        {" "}
        <a href="/evidence-packs/std-01#anti-weaponization">STD-01 AW evidence</a>,
        {" "}
        <a href="/evidence-packs/std-02#anti-weaponization">STD-02 AW evidence</a>
      </li>
      <li>
        Diagnostics:
        {" "}
        <a href="/diagnostics#anti-weaponization">Anti-weaponization checks</a>
      </li>
    </ul>
  </SectionBlock>

  <SectionBlock
    id="incidents"
    eyebrow="Incident handling"
    title="Incident + postmortem triggers"
    description="Ensure breaches automatically generate reviewable incidents."
  >
    <pre class="code-block">{incidentTrigger}</pre>
    <p class="muted">References:</p>
    <ul class="muted">
      <li>
        Clauses:
        {" "}
        <a href="/evidence-packs/std-02#std-02-2-2">STD-02.2.2</a>,
        {" "}
        <a href="/evidence-packs/std-02#std-02-3-1">STD-02.3.1</a>
      </li>
      <li>
        Evidence packs:
        {" "}
        <a href="/evidence-packs/std-02">STD-02 pack</a>
      </li>
      <li>
        Mechanisms:
        {" "}
        <a href="/mechanisms/patterns/maintenance-windowing">MEC-03 Maintenance windowing</a>,
        {" "}
        <a href="/mechanisms/patterns/decision-log">MEC-01 Decision log</a>
      </li>
    </ul>
  </SectionBlock>

  <SectionBlock
    id="runbooks"
    eyebrow="Runbooks"
    title="Runbook snippets"
    description="Operational steps that bind on-call teams to the standards."
    variant="alt"
  >
    <pre class="code-block">{runbookSnippet}</pre>
    <p class="muted">References:</p>
    <ul class="muted">
      <li>
        Clauses:
        {" "}
        <a href="/evidence-packs/std-01#std-01-5-1">STD-01.5.1</a>,
        {" "}
        <a href="/evidence-packs/std-02#std-02-1-2">STD-02.1.2</a>
      </li>
      <li>
        Evidence packs:
        {" "}
        <a href="/evidence-packs/std-01">STD-01 pack</a>
      </li>
      <li>
        Mechanisms:
        {" "}
        <a href="/mechanisms/patterns/kill-switch">MEC-05 Kill switch</a>,
        {" "}
        <a href="/mechanisms/patterns/appeal-paths">MEC-06 Appeal paths</a>
      </li>
    </ul>
  </SectionBlock>

  <SectionBlock
    id="referenced-by"
    eyebrow="Referenced by"
    title="Where bindings connect to evidence"
    description="Cross-links keep procurement, release gates, and audits aligned."
  >
    <div class="grid grid--three">
      <div class="panel">
        <p class="eyebrow">Used in examples</p>
        <ul class="muted">
          <li>
            <a href="/examples/automated-account-lock">Automated account lock</a>
          </li>
          <li>
            <a href="/examples/content-moderation-takedown">Content moderation takedown</a>
          </li>
          <li>
            <a href="/examples/automated-eligibility-denial">Automated eligibility denial</a>
          </li>
        </ul>
      </div>
      <div class="panel">
        <p class="eyebrow">Required by bindings</p>
        <ul class="muted">
          <li>
            <a href="/agents/spec">Agent Safety Object Model</a>
          </li>
          <li>
            <a href="/standards/ethotechnics-for-agents#control-checklist">Control checklist</a>
          </li>
          <li>
            <a href="/fast-path">Fast-path adoption</a>
          </li>
        </ul>
      </div>
      <div class="panel">
        <p class="eyebrow">Verified by evidence packs</p>
        <ul class="muted">
          <li>
            <a href="/evidence-packs/std-01">STD-01 Evidence Pack</a>
          </li>
          <li>
            <a href="/evidence-packs/std-02">STD-02 Evidence Pack</a>
          </li>
          <li>
            <a href="/validators">Validators (VAL-01–VAL-03)</a>
          </li>
        </ul>
      </div>
    </div>
    <p class="muted">
      Search IDs: AW-01, AW-02, AW-03, AW-04, STD-01.1.1, STD-02.2.1, VAL-01, VAL-02, VAL-03.
    </p>
  </SectionBlock>
</BaseLayout>
