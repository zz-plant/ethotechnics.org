---
import { getEntry } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import CardGrid from "../components/CardGrid.astro";
import CardItem from "../components/CardItem.astro";
import SectionBlock from "../components/SectionBlock.astro";

import ReferenceDashboard from "../components/ReferenceDashboard.astro";

const homeEntry = (await getEntry("home", "home"))!;
const { pageTitle, pageDescription } = homeEntry.data;
---

<BaseLayout
  title={pageTitle}
  description={pageDescription}
  mainClass="page page--wide"
>
  <SectionBlock
    eyebrow="Reference dashboard"
    title="Search the reference standard"
    description="Start with the latest standards, validators, and institutional guidance."
  >
    <ReferenceDashboard />
  </SectionBlock>

  <div class="divider-wave" aria-hidden="true"></div>

  <SectionBlock
    eyebrow="Get oriented"
    title="Pick a starting path"
    description="Use the guided overview, see the research backlog, or learn how to participate."
  >
    <CardGrid>
      <CardItem
        eyebrow="Onboarding"
        title="Start here"
        description="A guided walkthrough of the standards and how to navigate the reference library."
      >
        <a slot="footer" class="muted" href="/start-here">
          View the overview
        </a>
      </CardItem>
      <CardItem
        eyebrow="Institute"
        title="How the program runs"
        description="Understand the governance model, contributors, and update cadence."
      >
        <img
          src="/assets/generated/network-graph.svg"
          alt=""
          style="position: absolute; right: -10px; bottom: -10px; width: 140px; opacity: 0.12; transform: rotate(-15deg); pointer-events: none;"
          aria-hidden="true"
        />
        <a slot="footer" class="muted" href="/institute">
          Explore the Institute
        </a>
      </CardItem>
      <CardItem
        eyebrow="Participate"
        title="Join the queue"
        description="See how to propose a standard, validator, or new research thread."
      >
        <a slot="footer" class="muted" href="/participate">
          Participate
        </a>
      </CardItem>
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    eyebrow="Featured standards"
    title="Canonical references in the publishing queue"
    description="Start with active doctrine and the primary reference indices."
    variant="alt"
  >
    <CardGrid className="grid--two">
      <CardItem
        eyebrow="STD-01"
        title="The Temporal Bill of Rights"
        description="Defines the seven inalienable rights protecting human time against automated systems."
      >
        <a slot="footer" class="muted" href="/standards/std-01-temporal-rights">
          Read STD-01
        </a>
      </CardItem>
      <CardItem
        eyebrow="Reference"
        title="Core axioms"
        description="First principles for accountable system design and governance."
      >
        <a slot="footer" class="muted" href="/standards/core-axioms">
          View axioms
        </a>
      </CardItem>
      <CardItem
        eyebrow="Practice"
        title="Ethotechnics for Agents"
        description="Turning safety obligations into enforceable agent controls."
      >
        <a slot="footer" class="muted" href="/standards/ethotechnics-for-agents">
          View the practice
        </a>
      </CardItem>
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    eyebrow="Validators"
    title="Run diagnostics with guardrails"
    description="Evaluate performance, burden, and operational safety before systems ship."
  >
    <CardGrid className="grid--two">
      <CardItem
        eyebrow="Diagnostics"
        title="Latency audit"
        description="Measure response time risk against the reference thresholds."
      >
        <a slot="footer" class="muted" href="/validators/latency-audit">
          Run audit
        </a>
      </CardItem>
      <CardItem
        eyebrow="Diagnostics"
        title="Maintenance simulator"
        description="Model long-term upkeep costs and required caretaking cycles."
      >
        <a slot="footer" class="muted" href="/diagnostics/maintenance-simulator">
          Launch simulator
        </a>
      </CardItem>
    </CardGrid>
  </SectionBlock>

</BaseLayout>
