---
import { getEntry } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import CardGrid from "../components/CardGrid.astro";
import CardItem from "../components/CardItem.astro";
import SectionBlock from "../components/SectionBlock.astro";

const homeEntry = (await getEntry("home", "home"))!;
const { pageTitle, pageDescription } = homeEntry.data;
---

<BaseLayout
  title={pageTitle}
  description={pageDescription}
  mainClass="page page--wide"
>
  <SectionBlock
    eyebrow="Reference dashboard"
    title="Search the reference standard"
    description="Start with the latest standards, validators, and institutional guidance."
  >
    <section class="reference-dashboard">
      <header class="reference-dashboard__header">
        <div class="reference-dashboard__identity">
          <p class="reference-dashboard__logo">Ethotechnics Institute</p>
          <p class="reference-dashboard__tagline">
            The 21st Century reference hub for accountable systems.
          </p>
        </div>
      </header>

      <div class="reference-dashboard__search">
        <p class="reference-dashboard__search-label" id="dashboard-search-label">
          Search the library
        </p>
        <p class="reference-dashboard__search-helper" id="dashboard-search-helper">
          Route to the glossary index to pinpoint standards, mechanisms, and terminology.
        </p>
        <form
          class="reference-dashboard__search-bar"
          role="search"
          action="/glossary"
          method="get"
        >
          <input
            id="dashboard-search"
            type="search"
            name="query"
            aria-labelledby="dashboard-search-label"
            aria-describedby="dashboard-search-helper"
            placeholder="Search for standards (e.g., “Stoppability”) or mechanisms..."
          />
          <button class="button primary" type="submit">Search</button>
        </form>
        <div class="reference-dashboard__actions" aria-label="Getting started">
          <p class="muted">
            New to the standard? Start with the guided overview or explore how the Institute works.
          </p>
          <div class="reference-dashboard__action-buttons">
            <a class="button primary" href="/start-here">Start here</a>
            <a class="button ghost" href="/institute">How the Institute works</a>
          </div>
        </div>
        <div class="reference-dashboard__quick-links" aria-label="Quick links">
          <p class="reference-dashboard__quick-label">Quick links</p>
          <div class="reference-dashboard__quick-list">
            <a class="pill pill--ghost" href="/standards">Standards</a>
            <a class="pill pill--ghost" href="/validators">Validators</a>
            <a class="pill pill--ghost" href="/diagnostics">Diagnostics</a>
            <a class="pill pill--ghost" href="/glossary">Glossary</a>
          </div>
        </div>
      </div>

      <div class="reference-dashboard__status">
        <article class="status-card">
          <p class="status-card__eyebrow">Newest standard</p>
          <p class="status-card__title">
            Now Active: STD-01: The Temporal Bill of Rights
          </p>
          <a
            class="status-card__link"
            href="/standards/std-01-temporal-rights"
            aria-label="Read STD-01: The Temporal Bill of Rights"
          >
            Read Spec
          </a>
        </article>
        <article class="status-card">
          <p class="status-card__eyebrow">Tool highlight</p>
          <p class="status-card__title">
            Validator: Check System Latency
          </p>
          <a
            class="status-card__link"
            href="/validators/latency-audit"
            aria-label="Run the latency audit validator"
          >
            Run Audit
          </a>
        </article>
      </div>

      <footer class="reference-dashboard__footer">
        <p class="muted">Maintained by the Institute of Ethotechnics.</p>
        <p class="muted small">
          Ethotechnics Institute (.org) publishes open standards and research;
          Ethotechnics Studio (.com) provides delivery support when you need
          hands-on help.
        </p>
        <a href="https://ethotechnics.com">
          Need implementation support? Visit the Studio (.com) \u2192
        </a>
      </footer>
    </section>
  </SectionBlock>

  <SectionBlock
    eyebrow="Get oriented"
    title="Pick a starting path"
    description="Use the guided overview, see the research backlog, or learn how to participate."
  >
    <CardGrid>
      <CardItem
        eyebrow="Onboarding"
        title="Start here"
        description="A guided walkthrough of the standards and how to navigate the reference library."
      >
        <a slot="footer" class="muted" href="/start-here">
          View the overview
        </a>
      </CardItem>
      <CardItem
        eyebrow="Institute"
        title="How the program runs"
        description="Understand the governance model, contributors, and update cadence."
      >
        <a slot="footer" class="muted" href="/institute">
          Explore the Institute
        </a>
      </CardItem>
      <CardItem
        eyebrow="Participate"
        title="Join the queue"
        description="See how to propose a standard, validator, or new research thread."
      >
        <a slot="footer" class="muted" href="/participate">
          Participate
        </a>
      </CardItem>
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    eyebrow="Featured standards"
    title="Canonical references in the publishing queue"
    description="Start with active doctrine and the primary reference indices."
    variant="alt"
  >
    <CardGrid className="grid--two">
      <CardItem
        eyebrow="STD-01"
        title="The Temporal Bill of Rights"
        description="Defines the seven inalienable rights protecting human time against automated systems."
      >
        <a slot="footer" class="muted" href="/standards/std-01-temporal-rights">
          Read STD-01
        </a>
      </CardItem>
      <CardItem
        eyebrow="Reference"
        title="Core axioms"
        description="First principles for accountable system design and governance."
      >
        <a slot="footer" class="muted" href="/standards/core-axioms">
          View axioms
        </a>
      </CardItem>
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    eyebrow="Validators"
    title="Run diagnostics with guardrails"
    description="Evaluate performance, burden, and operational safety before systems ship."
  >
    <CardGrid className="grid--two">
      <CardItem
        eyebrow="Diagnostics"
        title="Latency audit"
        description="Measure response time risk against the reference thresholds."
      >
        <a slot="footer" class="muted" href="/validators/latency-audit">
          Run audit
        </a>
      </CardItem>
      <CardItem
        eyebrow="Diagnostics"
        title="Maintenance simulator"
        description="Model long-term upkeep costs and required caretaking cycles."
      >
        <a slot="footer" class="muted" href="/diagnostics/maintenance-simulator">
          Launch simulator
        </a>
      </CardItem>
    </CardGrid>
  </SectionBlock>

</BaseLayout>
