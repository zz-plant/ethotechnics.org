---
import BaseLayout from '../../layouts/BaseLayout.astro';
import CardGrid from '../../components/CardGrid.astro';
import CardItem from '../../components/CardItem.astro';
import PageIntro from '../../components/PageIntro.astro';
import SectionBlock from '../../components/SectionBlock.astro';
import { donateContent } from '../../content/donate';

const { pageTitle, pageDescription, permalink, impact, paths, contact, quickSupport, trust, faq } =
  donateContent;
---
<BaseLayout title={pageTitle} description={pageDescription}>
  <PageIntro
    eyebrow="Support"
    title="Donate"
    description={pageDescription}
    permalink={permalink}
    anchorLinks={[
      { href: '#impact', label: 'Where funds go' },
      { href: '#quick-support', label: 'Quick support' },
      { href: '#details', label: 'Donation details' },
      { href: '#faq', label: 'FAQ' },
      { href: '#ways', label: 'Ways to contribute' },
      { href: '#contact', label: 'Contact' },
    ]}
    panelCopy={{
      eyebrow: 'Accountable stewardship',
      title: 'Your support keeps the library free.',
      description:
        'Contributions cover research, diagnostics maintenance, and teaching materials so practitioners everywhere can use them without paywalls.',
    }}
  />

  <SectionBlock
    id="impact"
    eyebrow="Impact"
    title="Where your contribution goes"
    description="Funding keeps the work open, maintained, and ready for teams navigating complex launches."
  >
    <CardGrid>
      {impact.map((item) => (
        <CardItem title={item.title} description={item.detail} descriptionTone="default" />
      ))}
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="quick-support"
    eyebrow="Quick support"
    title={quickSupport.title}
    description={quickSupport.description}
    variant="alt"
  >
    <CardGrid className="grid--three">
      {quickSupport.options.map((option) => (
        <CardItem title={option.amount} description={option.detail} descriptionTone="default" />
      ))}
    </CardGrid>
    <div class="section__actions">
      <a class="button primary" href={quickSupport.href}>
        {quickSupport.ctaLabel}
      </a>
    </div>
  </SectionBlock>

  <SectionBlock
    id="details"
    eyebrow="Donation details"
    title={trust.title}
    description={trust.note}
  >
    <CardGrid className="grid--two">
      <CardItem title="How contributions work" descriptionTone="default">
        <ul class="muted">
          {trust.bullets.map((item) => (
            <li>{item}</li>
          ))}
        </ul>
      </CardItem>
      <CardItem title="Need a custom agreement?" descriptionTone="default">
        <p class="muted">
          We can align on invoicing, procurement steps, and sponsorship terms based on your internal requirements.
        </p>
        <div class="card__footer">
          <a class="button ghost button--compact" href={`mailto:${contact.email}?subject=${contact.subject}`}>
            Request documentation
          </a>
        </div>
      </CardItem>
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="faq"
    eyebrow="FAQ"
    title="Common donation questions"
    description="Answers to the most frequent logistics questions from donors and partners."
    variant="alt"
  >
    <CardGrid className="grid--two">
      {faq.map((item) => (
        <CardItem title={item.question} description={item.answer} descriptionTone="default" />
      ))}
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="ways"
    eyebrow="Options"
    title="Ways to contribute"
    description="Pick the path that matches your team, from quick gifts to recurring support."
    variant="alt"
  >
    <CardGrid>
      {paths.map((path) => (
        <CardItem title={path.title} description={path.description} descriptionTone="default">
          <div slot="footer" class="card__footer">
            <a class="button primary button--compact" href={path.href}>{path.ctaLabel}</a>
          </div>
        </CardItem>
      ))}
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="contact"
    eyebrow="Logistics"
    title="Need invoicing or documentation?"
    description="We can align with your procurement process and provide whatever documentation you need."
  >
    <CardGrid>
      <CardItem title={contact.title} descriptionTone="default">
        <p>{contact.detail}</p>
        <div class="card__footer">
          <a class="button ghost" href={`mailto:${contact.email}?subject=${contact.subject}`}>
            Email {contact.email}
          </a>
        </div>
      </CardItem>
    </CardGrid>
  </SectionBlock>
</BaseLayout>
