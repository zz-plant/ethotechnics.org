---
import PageIntro from '../../components/PageIntro.astro';
import BaseLayout from '../../layouts/BaseLayout.astro';
import CardGrid from '../../components/CardGrid.astro';
import CardItem from '../../components/CardItem.astro';
import SectionBlock from '../../components/SectionBlock.astro';
import InstituteStudioComparison from '../../components/InstituteStudioComparison.astro';
import { instituteStudioComparisonContent } from '../../content/comparison';
import { instituteContent } from '../../content/institute';

const { pageTitle, pageDescription, permalink, mission, governance, stewards, contact } = instituteContent;
---
<BaseLayout title={pageTitle} description={pageDescription}>
  <PageIntro
    eyebrow="Institute"
    title="Institute"
    description={pageDescription}
    permalink={permalink}
    anchorLinks={[
      { href: '#operating-model', label: 'Operating model' },
      { href: '#mission', label: 'Mission' },
      { href: '#governance', label: 'Governance' },
      { href: '#stewards', label: 'Stewards' },
      { href: '#contact', label: 'Contact' },
    ]}
    panelCopy={{
      eyebrow: 'Off-ramp',
      title: 'When diagnostics flag risk, head to ethotechnics.com/studio.',
      description:
        'Result pages across diagnostics link directly to ethotechnics.com/studio. Use the contact links below to schedule a facilitation session or escalate decisions that need a governance forum.',
    }}
  />

  <SectionBlock
    id="operating-model"
    eyebrow="Operating model"
    title="What the Institute keeps in motion."
    description="Programs stay small but durable: a public charter, accountable governance, and studio partners for hands-on support."
    className="section--banded"
  >
    <CardGrid className="grid--two">
      <CardItem
        title="Open by default"
        description="The charter, glossary, and playbooks stay published under CC BY 4.0 so teams can adapt them without friction."
        tags={["Library-first", "CC BY 4.0", "Reusable prompts"]}
      />
      <CardItem
        title="Governance with teeth"
        description="Stewards maintain decision records, escalation paths, and ethics checkpoints that survive leadership changes."
        tags={["Decision logs", "Escalation kits", "Accountability rituals"]}
      />
      <CardItem
        title="Studio collaboration"
        description="When diagnostics surface risk, the Studio co-leads facilitation and delivery so the accountable path is also the fastest."
        tags={["Diagnostics", "Facilitation", "Co-delivery"]}
      />
    </CardGrid>
  </SectionBlock>

  <InstituteStudioComparison content={instituteStudioComparisonContent} />

  <SectionBlock
    id="mission"
    eyebrow="Mission"
    title="Why the institute exists."
    description="A shared home for ethical technology practice across design, research, and governance."
    variant="alt"
  >
    <CardGrid>
      {mission.map((item) => (
        <CardItem>
          <p>{item}</p>
        </CardItem>
      ))}
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="governance"
    eyebrow="Governance"
    title="How decisions stay accountable."
    description="Each program uses documented patterns from the Library to keep expectations clear."
  >
    <CardGrid>
      {governance.map((item) => (
        <CardItem title={item.title} description={item.detail} />
      ))}
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="stewards"
    eyebrow="Stewards"
    title="People guiding the work."
    description="Reach out to the steward closest to your question or risk area."
    variant="alt"
  >
    <CardGrid>
      {stewards.map((steward) => (
        <CardItem title={steward.name} description={steward.role}>
          <p>{steward.focus}</p>
        </CardItem>
      ))}
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="contact"
    eyebrow="Contact"
    title="Get in touch."
    description="Use these channels for Studio escalations, research partnerships, or general questions."
  >
    <CardGrid>
      {contact.map((channel) => (
        <CardItem title={channel.label} description={channel.description}>
          <a slot="footer" href={channel.href}>
            {channel.linkLabel ?? channel.href}
          </a>
        </CardItem>
      ))}
    </CardGrid>
  </SectionBlock>
</BaseLayout>
