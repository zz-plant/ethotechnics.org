---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PageIntro from '../../components/PageIntro.astro';
import FieldNotesTabs from '../../components/FieldNotesTabs.astro';
import { fieldNotesContent } from '../../content/fieldNotes';
import { glossaryContent } from '../../content/glossary';

const { pageTitle, pageDescription, permalink, sections, entries } = fieldNotesContent;
const glossaryBase = glossaryContent.permalink;
const anchorLinks = sections.map((section) => ({
  href: `#${section.format}`,
  label: section.title,
}));
---
<BaseLayout title={pageTitle} description={pageDescription}>
  <PageIntro
    eyebrow="Field Notes"
    title="Field Notes"
    description={pageDescription}
    permalink={permalink}
    anchorLinks={anchorLinks}
    panelCopy={{
      eyebrow: 'Glossary cross-links',
      title: 'Every note links back to Library terms.',
      description:
        'Dispatches, case studies, and signals point to glossary anchors so teams can reuse definitions across research and diagnostics.',
    }}
  />
  <FieldNotesTabs sections={sections} entries={entries} glossaryBase={glossaryBase} />
</BaseLayout>
