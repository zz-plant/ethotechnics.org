---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PageIntro from "../../components/PageIntro.astro";
import SectionBlock from "../../components/SectionBlock.astro";
import CardGrid from "../../components/CardGrid.astro";
import CardItem from "../../components/CardItem.astro";

const pageTitle = "DIY implementation packs — Ethotechnics Institute";
const pageDescription =
  "Self-serve implementation packs with templates, evidence checklists, sample tickets, and telemetry specs. You can implement this without Studio involvement.";
const permalink = "/diy-packs";

const kits = [
  {
    title: "Kit A: Receipt-ready launch",
    summary: "Baseline kit for shipping receipts, clocks, and appeal paths in one sprint.",
    includes: [
      { label: "Receipt schema", href: "/standards/agent-receipt-schema.json" },
      { label: "Evidence pack checklist", href: "/evidence-packs" },
      { label: "Binding vectors", href: "/bindings" },
      { label: "Sample tickets + runbooks", href: "/bindings#runbooks" },
    ],
  },
  {
    title: "Kit B: Irreversible actions",
    summary: "Adds approvals, compensation, and hard-clock enforcement for irreversible actions.",
    includes: [
      { label: "Action-class taxonomy", href: "/standards/ethotechnics-for-agents#action-taxonomy" },
      { label: "Irreversible example", href: "/examples/irreversible-payment-compensation" },
      { label: "Evidence packs (STD-01 + STD-02)", href: "/evidence-packs" },
      { label: "Release gates + kill switch", href: "/bindings#release-gates" },
    ],
  },
];

const templates = [
  {
    title: "Decision log template",
    detail: "Fields for owner, dissent, clocks, and remedy outcomes.",
    format: "Doc outline",
    availability: "Evidence packs + bindings hub",
    sampleLines: [
      "Decision ID:",
      "Owner + reviewer:",
      "Dissent summary:",
      "Remedy outcome + timestamp:",
    ],
    actions: [
      {
        label: "Copy link",
        variant: "ghost",
      },
      {
        label: "View preview",
        variant: "primary",
        href: "/evidence-packs",
      },
    ],
  },
  {
    title: "Receipt payload schema",
    detail: "JSON schema for receipt issuance and clause references.",
    href: "/standards/agent-receipt-schema.json",
    format: "JSON schema",
    availability: "Downloadable",
    snippet: `{
  "receiptId": "rcpt_123",
  "clauses": ["STD-02.2.1"],
  "issuedAt": "2024-03-10T18:41:00Z"
}`,
    actions: [
      {
        label: "Open template",
        variant: "primary",
        href: "/standards/agent-receipt-schema.json",
      },
      {
        label: "Copy link",
        variant: "ghost",
      },
    ],
  },
  {
    title: "Appeal intake form",
    detail: "Pre-filled appeal form with clock expectations and escalation path.",
    format: "Form prompt",
    availability: "Evidence packs + DIY kits",
    sampleLines: [
      "Appeal ID:",
      "Clock expectations disclosed:",
      "Escalation path + owner:",
    ],
    actions: [
      {
        label: "Open template",
        variant: "primary",
        href: "/evidence-packs",
      },
      {
        label: "Copy link",
        variant: "ghost",
      },
    ],
  },
];

const tickets = [
  "Add receipt issuance to automated lock flow (STD-02.2.1).",
  "Wire decision log entry to appeals workflow (MEC-01).",
  "Publish acknowledgment, review, and remedy clocks in UI.",
  "Add exception class handling with expiry enforcement.",
];

const telemetry = [
  "Decision ID, clause IDs, and receipt ID emitted on every automated decision.",
  "Clock timestamps (ack, review, remedy) recorded with owner ID.",
  "Appeal intake and outcome codes with reviewer ID.",
  "Exception class, justification, and expiry timestamp.",
];
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <PageIntro
    eyebrow="DIY pack"
    title="DIY implementation pack"
    description={pageDescription}
    permalink={permalink}
    anchorLinks={[
      { href: "#kits", label: "DIY kits" },
      { href: "#templates", label: "Templates" },
      { href: "#checklist", label: "Evidence checklist" },
      { href: "#tickets", label: "Sample tickets" },
      { href: "#telemetry", label: "Telemetry spec" },
      { href: "#referenced-by", label: "Referenced by" },
    ]}
    panelCopy={{
      eyebrow: "Self-serve",
      title: "Ship without a consultancy funnel",
      description:
        "This pack includes the minimum assets teams need to implement STD-01 and STD-02 on their own.",
    }}
  />

  <SectionBlock
    id="kits"
    eyebrow="DIY kits"
    title="Two complete implementation kits"
    description="Each kit includes a receipt schema, evidence pack checklist, bindings, and runbooks."
  >
    <CardGrid className="grid--two">
      {kits.map((kit) => (
        <CardItem title={kit.title} description={kit.summary}>
          <ul class="muted">
            {kit.includes.map((item) => (
              <li>
                <a href={item.href}>{item.label}</a>
              </li>
            ))}
          </ul>
        </CardItem>
      ))}
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="templates"
    eyebrow="Templates"
    title="Copyable templates"
    description="Paste into your internal docs or issue trackers."
    variant="alt"
  >
    <CardGrid className="grid--two">
      {templates.map((template) => (
        <CardItem title={template.title} description={template.detail}>
          <p class="muted">Format: {template.format}</p>
          <p class="muted">Availability: {template.availability}</p>
          {template.href && (
            <p class="muted">
              <a href={template.href}>Download JSON schema</a>
            </p>
          )}
          {(template.snippet || template.sampleLines) && (
            <pre class="code-block">
              {template.snippet || template.sampleLines?.join("\n")}
            </pre>
          )}
          <div slot="footer" class="actions">
            {template.actions?.map((action) =>
              action.href ? (
                <a
                  class={`button ${action.variant}`}
                  href={action.href}
                  aria-label={`${action.label} for ${template.title}`}
                >
                  {action.label}
                </a>
              ) : (
                <button
                  class={`button ${action.variant}`}
                  type="button"
                  aria-label={`${action.label} for ${template.title}`}
                >
                  {action.label}
                </button>
              )
            )}
          </div>
        </CardItem>
      ))}
    </CardGrid>
  </SectionBlock>

  <SectionBlock
    id="checklist"
    eyebrow="Evidence checklist"
    title="Minimum evidence checklist"
    description="Use this to verify that your rollout is proof-carrying."
    variant="alt"
  >
    <ul class="muted">
      <li>Receipt payloads linked to clause IDs.</li>
      <li>Decision log entries with dissent and owner sign-off.</li>
      <li>Clock compliance report for acknowledgment, review, and remedy.</li>
      <li>Appeal outcome list with reversal or remedy details.</li>
      <li>Exception register with expiry dates and review cadence.</li>
    </ul>
  </SectionBlock>

  <SectionBlock
    id="tickets"
    eyebrow="Sample tickets"
    title="Sample implementation tickets"
    description="Copy these into your backlog to get started quickly."
  >
    <ul class="muted">
      {tickets.map((ticket) => (
        <li>{ticket}</li>
      ))}
    </ul>
  </SectionBlock>

  <SectionBlock
    id="telemetry"
    eyebrow="Minimal telemetry"
    title="Minimal telemetry spec"
    description="The smallest telemetry set needed to prove compliance."
    variant="alt"
  >
    <ul class="muted">
      {telemetry.map((item) => (
        <li>{item}</li>
      ))}
    </ul>
    <p class="muted">
      Pair this with the
      {" "}
      <a href="/evidence-packs">Evidence Packs</a>
      {" "}
      to align telemetry to clause-level proof.
    </p>
  </SectionBlock>

  <SectionBlock
    id="referenced-by"
    eyebrow="Referenced by"
    title="Where DIY packs plug in"
    description="Cross-links keep DIY kits aligned with examples, bindings, and evidence packs."
  >
    <div class="grid grid--three">
      <div class="panel">
        <p class="eyebrow">Used in examples</p>
        <ul class="muted">
          <li>
            <a href="/examples/automated-account-lock">Automated account lock</a>
          </li>
          <li>
            <a href="/examples/automated-eligibility-denial">Automated eligibility denial</a>
          </li>
          <li>
            <a href="/examples/irreversible-payment-compensation">
              Irreversible payment with compensation
            </a>
          </li>
        </ul>
      </div>
      <div class="panel">
        <p class="eyebrow">Required by bindings</p>
        <ul class="muted">
          <li>
            <a href="/bindings#release-gates">Release gate checklist</a>
          </li>
          <li>
            <a href="/bindings#procurement">Procurement clauses</a>
          </li>
          <li>
            <a href="/bindings#runbooks">Runbook snippets</a>
          </li>
        </ul>
      </div>
      <div class="panel">
        <p class="eyebrow">Verified by evidence packs</p>
        <ul class="muted">
          <li>
            <a href="/evidence-packs/std-01">STD-01 Evidence Pack</a>
          </li>
          <li>
            <a href="/evidence-packs/std-02">STD-02 Evidence Pack</a>
          </li>
          <li>
            <a href="/validators">Validators (VAL-01–VAL-03)</a>
          </li>
        </ul>
      </div>
    </div>
    <p class="muted">
      Search IDs: STD-01 v1.0, STD-02 v0.9, STD-01.1.1, STD-02.2.1, VAL-01, VAL-02, VAL-03.
    </p>
  </SectionBlock>
</BaseLayout>
