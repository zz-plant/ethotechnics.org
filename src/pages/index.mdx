---
import { Icon } from 'astro-icon/components';
import BaseLayout from '../layouts/BaseLayout.astro';

type Metric = {
  label: string;
  value: string;
};

type FeatureCard = {
  title: string;
  description: string;
  icon?: string;
  emphasis?: boolean;
  pills?: string[];
};

type Panel = {
  title: string;
  description: string;
  pills: string[];
};

const heroMetrics: Metric[] = [
  { label: 'Performance', value: '99.9%' },
  { label: 'Build time', value: '< 1s' },
  { label: 'Handoff ready', value: 'Yes' },
];

const aboutFeatures: FeatureCard[] = [
  {
    icon: 'tabler:bolt',
    title: 'Performance-first',
    description:
      'Astro 5 ships zero JavaScript by default; we only hydrate what needs to be interactive—like this navigation island.',
  },
  {
    icon: 'tabler:compass',
    title: 'Accessible navigation',
    description: 'Keyboard-friendly controls, logical focus states, and clear landmarks keep visitors oriented and confident.',
  },
  {
    icon: 'tabler:palette',
    title: 'Editorial styling',
    description: 'Calibrated typography and gentle gradients pair well with product shots, dashboards, or case studies.',
  },
];

const featureGrid: FeatureCard[] = [
  {
    title: 'Island-based navigation',
    description:
      'The top-level navigation runs as its own React island with hydration only when visible, balancing interactivity and performance.',
    emphasis: true,
    pills: ['Escape key support', 'Responsive layout', 'Intentional motion'],
  },
  {
    title: 'Composable sections',
    description:
      'Hero, feature grid, and CTA sections use semantic HTML and utility classes that can be repurposed for product or marketing stories.',
  },
  {
    title: 'Ready to extend',
    description: 'Add markdown content, CMS data, or API-backed components without reworking the layout foundation.',
  },
  {
    title: 'Typography system',
    description: 'Built on Inter with responsive scales, balanced line lengths, and subtle accent colors for clarity.',
  },
];

const insightsPanel: Panel = {
  title: 'Realtime insights',
  description:
    'Track adoption, uptime, and product velocity from one place. Alerts use sensible defaults, and you can fine-tune thresholds without code changes.',
  pills: ['Zero-config deploys', 'Secure by default', 'Edge-ready'],
};

const highlightPills = ['Reusable components', 'Accessible defaults', 'Performance guardrails'];

const pageTitle = 'Lumen — Modern Astro starter';
const pageDescription = 'A contemporary Astro 5 starter with an interactive navigation island and thoughtful defaults for marketing sites.';
---
<BaseLayout title={pageTitle} description={pageDescription}>
  <section className="hero">
    <div className="hero__content">
      <p className="eyebrow">Built with Astro 5</p>
      <h1>Launch a polished experience in record time.</h1>
      <p className="lede">
        Lumen pairs a crisp visual language with sensible defaults: responsive layout, accessible navigation, and flexible sections so you can ship confidently.
      </p>
      <div className="actions">
        <a className="button primary" href="#cta">
          Start a workspace
        </a>
        <a className="button ghost" href="#features">
          Explore the stack
        </a>
      </div>
      <div className="hero__meta">
        {heroMetrics.map((metric) => (
          <div key={metric.label}>
            <p className="muted">{metric.label}</p>
            <p className="metric">{metric.value}</p>
          </div>
        ))}
      </div>
    </div>
    <div className="hero__panel">
      <div className="panel">
        <p className="muted">Live metrics</p>
        <h3>{insightsPanel.title}</h3>
        <p>{insightsPanel.description}</p>
        <ul className="pill-list">
          {insightsPanel.pills.map((pill) => (
            <li key={pill}>{pill}</li>
          ))}
        </ul>
      </div>
    </div>
  </section>

  <section id="about" className="section">
    <div className="section__header">
      <p className="eyebrow">Why Lumen</p>
      <h2>Modern ergonomics, thoughtful defaults.</h2>
      <p className="muted">
        Astro islands keep critical interactions lean while content stays blazing fast. We focus on readability, contrast, and sensible spacing across devices.
      </p>
    </div>
    <div className="grid">
      {aboutFeatures.map((feature) => (
        <article key={feature.title} className="card">
          <div className="icon" aria-hidden="true">
            {feature.icon ? <Icon name={feature.icon} /> : null}
          </div>
          <h3>{feature.title}</h3>
          <p>{feature.description}</p>
        </article>
      ))}
    </div>
  </section>

  <section id="features" className="section section--alt">
    <div className="section__header">
      <p className="eyebrow">Features</p>
      <h2>Everything you need to ship confidently.</h2>
      <p className="muted">Opinionated spacing, adaptive grids, and flexible CTAs make it easy to tailor this starter to your story.</p>
    </div>
    <div className="grid grid--two">
      {featureGrid.map((feature) => (
        <article
          key={feature.title}
          className={`card${feature.emphasis ? ' card--emphasis' : ''}`}
          aria-label={feature.emphasis ? 'Navigation feature highlight' : undefined}
        >
          <h3>{feature.title}</h3>
          <p>{feature.description}</p>
          {feature.pills ? (
            <ul className="pill-list">
              {feature.pills.map((pill) => (
                <li key={pill}>{pill}</li>
              ))}
            </ul>
          ) : null}
        </article>
      ))}
    </div>
  </section>

  <section id="insights" className="section">
    <div className="section__header">
      <p className="eyebrow">Insights</p>
      <h2>Practical recommendations baked in.</h2>
      <p className="muted">
        Each element is tuned for usability: generous hit areas, high contrast, and content blocks that adapt gracefully to any breakpoint.
      </p>
    </div>
    <div className="highlight">
      <div>
        <p className="muted">Design guidance</p>
        <h3>Keep primary CTAs crisp and focused.</h3>
        <p>
          Use the primary button class for your main action, and pair it with a ghost variant for quieter links. Keep navigation labels short and scannable.
        </p>
      </div>
      <div className="highlight__meta">
        <p className="muted">Built for teams</p>
        <ul className="pill-list">
          {highlightPills.map((pill) => (
            <li key={pill}>{pill}</li>
          ))}
        </ul>
      </div>
    </div>
  </section>

  <section id="cta" className="cta">
    <div>
      <p className="eyebrow">Ready to move?</p>
      <h2>Start faster with a clear design system.</h2>
      <p className="muted">Drop in your product narrative, swap in visuals, and deploy. The navigation island is ready for your brand.</p>
    </div>
    <div className="actions">
      <a className="button primary" href="#top">
        Back to top
      </a>
      <a className="button ghost" href="https://docs.astro.build" rel="noreferrer">
        Read Astro docs
      </a>
    </div>
  </section>
</BaseLayout>
